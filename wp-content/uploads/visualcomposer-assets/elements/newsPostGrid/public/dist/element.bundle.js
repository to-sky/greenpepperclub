(window.vcvWebpackJsonp4x=window.vcvWebpackJsonp4x||[]).push([[0],{"./newsPostGrid/index.js":function(e,t,n){"use strict";n.r(t);var s=n("./node_modules/vc-cake/index.js"),o=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(o),r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),a=n.n(r),c=n("./node_modules/@babel/runtime/helpers/createClass.js"),p=n.n(c),l=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),d=n.n(l),g=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),u=n.n(g),m=n("./node_modules/@babel/runtime/helpers/inherits.js"),v=n.n(m),b=n("./node_modules/react/index.js"),x=n.n(b),h=Object(s.getService)("api"),f=Object(s.getService)("cook"),w=Object(s.getService)("dataProcessor"),y=function(e){function t(e){var n;return a()(this,t),(n=d()(this,u()(t).call(this,e))).state={shortcode:"",shortcodeContent:n.spinnerHTML()},n.ref=x.a.createRef(),n.btnRef=x.a.createRef(),n}return v()(t,e),p()(t,[{key:"componentDidMount",value:function(){this.requestToServer()}},{key:"componentDidUpdate",value:function(e){(0,n("./node_modules/lodash/lodash.js").isEqual)(this.props.atts,e.atts)||this.requestToServer()}},{key:"componentwillUnmount",value:function(){this.serverRequest&&(this.serverRequest.cancelled=!0)}},{key:"getItemContent",value:function(e){var t=document.createElement("div");return t.classList.add("vce-posts-grid-item"),t.innerHTML=e,this.props.atts.toggleButton?t.querySelector(".vce-post-link").innerHTML=this.btnRef.current.innerHTML.trim():t.querySelector(".vce-post-link").remove(),t.outerHTML.trim()}},{key:"requestToServer",value:function(){var e=this;if(this.props.atts.gridItem&&this.props.atts.sourceItem){var t=f.get(this.props.atts.gridItem),s=f.get(this.props.atts.sourceItem),o=t.render(null,!1),i=s.render(null,!1),r=n("./node_modules/react-dom/server.browser.js"),a=n("./node_modules/striptags/src/striptags.js");this.ref&&this.ref.current&&(this.ref.current.innerHTML=this.spinnerHTML());var c=r.renderToStaticMarkup(o),p=this.getItemContent(c);this.serverRequest=w.appServerRequest({"vcv-action":"elements:posts_grid:adminNonce","vcv-nonce":window.vcvNonce,"vcv-content":p,"vcv-source-id":window.vcvSourceID,"vcv-atts":{source:encodeURIComponent(JSON.stringify({tag:this.props.atts.sourceItem.tag,value:a(r.renderToStaticMarkup(i))})),unique_id:this.props.id,pagination:this.props.atts.atts_pagination?"1":"0",pagination_color:this.props.atts.atts_pagination_color,pagination_per_page:this.props.atts.atts_pagination_per_page}}).then((function(t){if(e.serverRequest&&e.serverRequest.cancelled)e.serverRequest=null;else{var n=e.getResponse(t);n&&n.status,e.ref&&e.ref.current&&(e.ref.current.setAttribute("data-vcvs-html",n.shortcode),e.ref.current.innerHTML=n.shortcodeContent||"Failed to render posts grid")}}))}}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.atts,s=e.editor,o=n.customClass,r=n.metaCustomId,a=["vce vce-posts-grid-wrapper vce-news-grid-wrapper"],c=["vce-posts-grid-container vce-news-grid-container"],p={},l=this.getMixinData("postsGridGap");l&&a.push("vce-posts-grid--gap-".concat(l.selector)),(l=this.getMixinData("postsGridColumns"))&&a.push("vce-posts-grid--columns-".concat(l.selector)),(l=this.getMixinData("postsGridPaginationColor"))&&a.push("vce-posts-grid-pagination--color-".concat(l.selector)),o&&c.push(o),r&&(p.id=r);var d=this.applyDO("all"),g=f.get(this.props.atts.button).render(null,!1);return x.a.createElement("div",i()({className:c.join(" ")},p,s),x.a.createElement("div",i()({className:a.join(" "),id:"el-"+t},d),x.a.createElement("div",{className:"vcvhelper",ref:this.ref}),x.a.createElement("div",{className:"vcvhelper",ref:this.btnRef,style:{height:"0",visibility:"hidden"}},g)))}}]),t}(h.elementComponent);(0,Object(s.getService)("cook").add)(n("./newsPostGrid/settings.json"),(function(e){e.add(y)}),{css:n("./node_modules/raw-loader/index.js!./newsPostGrid/styles.css"),editorCss:n("./node_modules/raw-loader/index.js!./newsPostGrid/editor.css"),mixins:{postsGridColumns:{mixin:n("./node_modules/raw-loader/index.js!./newsPostGrid/cssMixins/postsGridColumns.pcss")},postsGridGap:{mixin:n("./node_modules/raw-loader/index.js!./newsPostGrid/cssMixins/postsGridGap.pcss")},postsGridPaginationColor:{mixin:n("./node_modules/raw-loader/index.js!./newsPostGrid/cssMixins/postsGridPaginationColor.pcss")}}})},"./newsPostGrid/settings.json":function(e){e.exports={tag:{access:"protected",type:"string",value:"newsPostGrid"},relatedTo:{type:"group",access:"protected",value:["General"]},gap:{type:"number",access:"public",value:"10",options:{label:"Gap",description:"Enter gap in pixels (Example: 5).",cssMixin:{mixin:"postsGridGap",property:"gap"}}},columns:{type:"number",access:"public",value:"1",options:{label:"Number of Columns",cssMixin:{mixin:"postsGridColumns",property:"columns"}}},toggleButton:{type:"toggle",access:"public",value:!0,options:{label:"Show button"}},atts_pagination:{type:"toggle",access:"public",value:!1,options:{label:"Enable paging",description:"Divide your post grid into pages and control maximum number of posts per page."}},atts_pagination_per_page:{type:"string",access:"public",value:"10",options:{label:"Items per page"}},atts_pagination_color:{type:"color",access:"public",value:"#ffce00",options:{label:"Inactive page color",cssMixin:{mixin:"postsGridPaginationColor",property:"baseColor",namePattern:"[\\da-f]+"}}},atts_pagination_active_color:{type:"color",access:"public",value:"#e6b900",options:{label:"Active page color",cssMixin:{mixin:"postsGridPaginationColor",property:"activeColor",namePattern:"[\\da-f]+"}}},editFormTab1:{type:"group",access:"protected",value:["columns","gap","atts_pagination","toggleButton","metaCustomId","customClass"],options:{label:"General"}},pagination:{type:"group",access:"public",value:["atts_pagination_per_page","atts_pagination_color","atts_pagination_active_color"],options:{label:"Pagination",onChange:{rules:{atts_pagination:{rule:"toggle"}},actions:[{action:"toggleSectionVisibility"}]}}},sourceItem:{type:"element",access:"public",value:{tag:"postsGridDataSourcePost"},options:{category:"_postsGridSources",_fixElementDownload:[{tag:"postsGrid"},{tag:"postsGridDataSourcePost"},{tag:"postsGridDataSourcePage"},{tag:"postsGridDataSourceCustomPostType"},{tag:"postsGridDataSourceListOfIds"}],label:"Data Source",replaceView:"dropdown",merge:{attributes:[{key:"attsOffset",type:"string"},{key:"attsLimit",type:"string"}]}}},gridItem:{type:"element",access:"public",value:{tag:"newsPostGridItem"},options:{_category:"postsGridItems",tabLabel:"Grid Item"}},button:{type:"element",access:"public",value:{tag:"growShadowButton",buttonText:"Read more"},options:{category:"Button",tabLabel:"Button",merge:{attributes:[{key:"alignment",type:"string"},{key:"buttonText",type:"string"}]},exclude:["buttonUrl"],onChange:{rules:{toggleButton:{rule:"toggle"}},actions:[{action:"toggleSectionVisibility"}]}}},designOptions:{type:"designOptions",access:"public",value:{},options:{label:"Design Options"}},metaEditFormTabs:{type:"group",access:"protected",value:["editFormTab1","sourceItem","pagination","gridItem","button","designOptions"]},metaCustomId:{type:"customId",access:"public",value:"",options:{label:"Element ID",description:"Apply unique ID to element to link directly to it by using #your_id (for element ID use lowercase input only)."}},customClass:{type:"string",access:"public",value:"",options:{label:"Extra class name",description:"Add an extra class name to the element and refer to it from Custom CSS option."}}}},"./node_modules/raw-loader/index.js!./newsPostGrid/cssMixins/postsGridColumns.pcss":function(e,t){e.exports="@media (min-width: 544px) {\n.vce-news-grid-container.vce-posts-grid-container {\n    .vce-posts-grid--columns-$selector {\n      .vce-posts-grid-item {\n        @if $columns != false {\n          flex: 0 0 calc(100% / $columns);\n        }\n      }\n    }\n  }\n}\n"},"./node_modules/raw-loader/index.js!./newsPostGrid/cssMixins/postsGridGap.pcss":function(e,t){e.exports=".vce-news-grid-container.vce-posts-grid-container {\n  .vce-posts-grid--gap-$selector {\n    .vce-posts-grid-list {\n      @if $gap != false {\n        margin-left: calc(-$(gap)px / 2);\n        margin-right: calc(-$(gap)px / 2);\n        margin-bottom: -$(gap)px;\n      }\n    }\n    .vce-posts-grid-item {\n      @if $gap != false {\n        padding-left: calc($(gap)px / 2);\n        padding-right: calc($(gap)px / 2);\n        margin-bottom: $(gap)px;\n      }\n    }\n  }\n}"},"./node_modules/raw-loader/index.js!./newsPostGrid/cssMixins/postsGridPaginationColor.pcss":function(e,t){e.exports=".vce-news-grid-container.vce-posts-grid-container {\n  .vce-posts-grid-pagination--color-$selector {\n    .vce-posts-grid-pagination-item {\n        @if $baseColor != false {\n          background-color: $baseColor;\n          &:hover {\n          background-color: color($baseColor shade(10%));\n        }\n      }\n    }\n    .vce-posts-grid-pagination-item.vce-state--active {\n      @if $activeColor != false {\n        background-color: $activeColor;\n        &:hover {\n          background-color: color($activeColor shade(10%));\n        }\n      }\n    }\n  }\n}\n"},"./node_modules/raw-loader/index.js!./newsPostGrid/editor.css":function(e,t){e.exports=".vce-news-grid-container {\n  min-height: 1em;\n}\n"},"./node_modules/raw-loader/index.js!./newsPostGrid/styles.css":function(e,t){e.exports=".vce-news-grid-container.vce-posts-grid-container .vce-posts-grid-wrapper {\n  overflow: hidden;\n}\n.vce-news-grid-container.vce-posts-grid-container .vce-posts-grid-list {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: row;\n      flex-direction: row;\n  -ms-flex-pack: start;\n      justify-content: flex-start;\n  -ms-flex-align: stretch;\n      align-items: stretch;\n  -ms-flex-line-pack: start;\n      align-content: flex-start;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.vce-news-grid-container.vce-posts-grid-container .vce-posts-grid-item {\n  -ms-flex: 0 0 100%;\n      flex: 0 0 100%;\n  max-width: 100%;\n  box-sizing: border-box;\n  display: block;\n  overflow: hidden;\n  position: relative;\n  border: none;\n}\n.vce-news-grid-container.vce-posts-grid-container .vce-posts-grid-pagination {\n  margin: 30px 0 12px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n      justify-content: center;\n  -ms-flex-align: center;\n      align-items: center;\n}\n.vce-news-grid-container.vce-posts-grid-container .vce-posts-grid-pagination .vce-posts-grid-pagination-item {\n  display: inline-block;\n  border-radius: 50%;\n  margin: 15px 5px;\n  height: 10px;\n  width: 10px;\n  text-decoration: none;\n  line-height: 30px;\n  box-shadow: none;\n  border: 0;\n  outline: none;\n  transition: background 0.2s ease-in-out;\n  font-size: 0;\n}\n.vce-news-grid-container.vce-posts-grid-container .vce-posts-grid-pagination .vce-posts-grid-pagination-item:hover,\n.vce-news-grid-container.vce-posts-grid-container .vce-posts-grid-pagination .vce-posts-grid-pagination-item:focus {\n  text-decoration: none;\n  box-shadow: none;\n  border: 0;\n  outline: none;\n}\n.vce-news-grid-container.vce-posts-grid-container .vce-posts-grid-pagination .vce-posts-grid-pagination-item.vce-state--active {\n  width: 14px;\n  height: 14px;\n}\n.vce-news-grid-container.vce-posts-grid-container .vce-posts-grid-pagination-rest-items {\n  padding: 0 18px;\n}\n"}},[["./newsPostGrid/index.js"]]]);