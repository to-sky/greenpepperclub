(window.vcvWebpackJsonp4x=window.vcvWebpackJsonp4x||[]).push([[0],{"./imageMasonryGalleryWithScaleUp/index.js":function(e,a,l){"use strict";l.r(a);var n=l("./node_modules/vc-cake/index.js"),i=l.n(n),t=l("./node_modules/@babel/runtime/helpers/extends.js"),s=l.n(t),o=l("./node_modules/@babel/runtime/helpers/classCallCheck.js"),r=l.n(o),c=l("./node_modules/@babel/runtime/helpers/createClass.js"),m=l.n(c),p=l("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),u=l.n(p),g=l("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),d=l.n(g),h=l("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),y=l.n(h),v=l("./node_modules/@babel/runtime/helpers/inherits.js"),b=l.n(v),w=l("./node_modules/@babel/runtime/helpers/defineProperty.js"),x=l.n(w),f=l("./node_modules/react/index.js"),I=l.n(f),k=function(e){function a(e){var l;return r()(this,a),l=u()(this,d()(a).call(this,e)),x()(y()(l),"currentImg",0),x()(y()(l),"loadingIndex",0),x()(y()(l),"data",[]),l.loadImage=l.loadImage.bind(y()(l)),l}return b()(a,e),m()(a,[{key:"componentDidMount",value:function(){this.prepareImages(this.props.atts)}},{key:"componentDidUpdate",value:function(){i.a.env("iframe")&&i.a.env("iframe").vcv.trigger("ready")}},{key:"componentWillReceiveProps",value:function(e){this.currentImg=0,this.data=[],this.loadingIndex++,this.prepareImages(e.atts,!0)}},{key:"prepareImages",value:function(e){for(var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=e.image,n=this.getImageUrl(l),i=e.columns<=0?1:e.columns,t=[],s=0;s<i;s++)t.push(0),this.data.push([]);if(a){t=[];for(var o=0;o<i;o++)t.push(0)}this.loadImage(n,t)}},{key:"loadImage",value:function(e,a){if(e.length){var l=new window.Image;l.loadingIndex=this.loadingIndex,l.onload=this.imgLoadHandler.bind(this,e,a,l),l.src=e[this.currentImg]}else this.setState({columnData:this.data})}},{key:"imgLoadHandler",value:function(e,a,l){if(l.loadingIndex===this.loadingIndex){var n=this.getImageHeight(l.width,l.height),i=this.getSmallestFromArray(a);a[i]+=n,this.data[i].push(this.props.atts.image[this.currentImg]),this.currentImg++,this.currentImg<e.length?this.loadImage(e,a):this.setState({columnData:this.data})}}},{key:"getImageHeight",value:function(e,a){return a/(e/50)}},{key:"getSmallestFromArray",value:function(e){var a=0,l=e[0];return e.forEach(function(n,i){n<l&&(l=e[i],a=i)}),a}},{key:"render",value:function(){var e=this,a=this.props,l=a.id,n=a.atts,i=a.editor,t=n.image,o=n.shape,r=n.customClass,c=n.metaCustomId,m=n.clickableOptions,p=n.showCaption,u=["vce-image-masonry-gallery-with-scaleup"],g=["vce-image-masonry-gallery-with-scaleup-wrapper vce"],d={},h="div",y=this.state&&this.state.columnData,v=[];if(y){var b=0;y.forEach(function(a,n){var i=[];a&&a.forEach(function(a,n){var o=e.getImageUrl(a),r={},c="vce-image-masonry-gallery-with-scaleup-item",u={alt:a&&a.alt?a.alt:""};if("url"===m&&a.link&&a.link.url){h="a";var g=a.link;r={href:g.url,title:g.title,target:g.targetBlank?"_blank":void 0,rel:g.relNofollow?"nofollow":void 0}}else"imageNewTab"===m?(h="a",r={href:o,target:"_blank"}):"lightbox"===m?(h="a",r={href:o,"data-lightbox":"lightbox-".concat(l)}):"photoswipe"===m&&(h="a",r={href:o,"data-photoswipe-image":l,"data-photoswipe-index":b,"data-photoswipe-item":"photoswipe-".concat(l)},p&&a&&a.caption&&(r["data-photoswipe-caption"]=a.caption),d["data-photoswipe-gallery"]=l,b++);t[n].filter&&"normal"!==t[n].filter&&(c+=" vce-image-filter--".concat(t[n].filter)),i.push(I.a.createElement(h,s()({},r,{className:c,key:"vce-image-masonry-gallery-with-scaleup-item-".concat(n,"-").concat(l)}),I.a.createElement("img",s()({className:"vce-image-masonry-gallery-with-scaleup-img",src:e.getImageUrl(a)},u))))}),v.push(I.a.createElement("div",{className:"vce-image-masonry-gallery-with-scaleup-column",key:"vce-image-masonry-gallery-with-scaleup-col-".concat(n,"-").concat(l)},i))})}"string"==typeof r&&r&&u.push(r);var w=this.getMixinData("imageGalleryGap");w&&g.push("vce-image-masonry-gallery-with-scaleup--gap-".concat(w.selector)),(w=this.getMixinData("imageGalleryColumns"))&&g.push("vce-image-masonry-gallery-with-scaleup--columns-".concat(w.selector)),"rounded"===o&&u.push("vce-image-masonry-gallery-with-scaleup--border-rounded"),c&&(d.id=c);var x=this.applyDO("all");return I.a.createElement("div",s()({className:u.join(" ")},i,d),I.a.createElement("div",s()({className:g.join(" "),id:"el-"+l},x),I.a.createElement("div",{className:"vce-image-masonry-gallery-with-scaleup-list"},v)))}}]),a}(i.a.getService("api").elementComponent);(0,i.a.getService("cook").add)(l("./imageMasonryGalleryWithScaleUp/settings.json"),function(e){e.add(k)},{css:l("./node_modules/raw-loader/index.js!./imageMasonryGalleryWithScaleUp/styles.css"),editorCss:l("./node_modules/raw-loader/index.js!./imageMasonryGalleryWithScaleUp/editor.css"),mixins:{imageGalleryColumns:{mixin:l("./node_modules/raw-loader/index.js!./imageMasonryGalleryWithScaleUp/cssMixins/imageGalleryColumns.pcss")},imageGalleryGap:{mixin:l("./node_modules/raw-loader/index.js!./imageMasonryGalleryWithScaleUp/cssMixins/imageGalleryGap.pcss")}}},"")},"./imageMasonryGalleryWithScaleUp/settings.json":function(e){e.exports={image:{type:"attachimage",access:"public",value:["masonry-scale-up-1.jpg","masonry-scale-up-2.jpg","masonry-scale-up-3.jpg"],options:{label:"Images",multiple:!0,onChange:{rules:{clickableOptions:{rule:"value",options:{value:"url"}}},actions:[{action:"attachImageUrls"}]},url:!1,imageFilter:!0}},shape:{type:"buttonGroup",access:"public",value:"square",options:{label:"Shape",values:[{label:"Square",value:"square",icon:"vcv-ui-icon-attribute-shape-square"},{label:"Rounded",value:"rounded",icon:"vcv-ui-icon-attribute-shape-rounded"}]}},designOptions:{type:"designOptions",access:"public",value:{},options:{label:"Design Options"}},editFormTab1:{type:"group",access:"protected",value:["clickableOptions","showCaption","image","columns","gap","shape","metaCustomId","customClass"],options:{label:"General"}},metaEditFormTabs:{type:"group",access:"protected",value:["editFormTab1","designOptions"]},relatedTo:{type:"group",access:"protected",value:["General"]},customClass:{type:"string",access:"public",value:"",options:{label:"Extra class name",description:"Add an extra class name to the element and refer to it from Custom CSS option."}},clickableOptions:{type:"dropdown",access:"public",value:"lightbox",options:{label:"OnClick action",values:[{label:"None",value:""},{label:"Lightbox",value:"lightbox"},{label:"PhotoSwipe",value:"photoswipe"},{label:"Open Image in New Tab",value:"imageNewTab"},{label:"Link selector",value:"url"}]}},showCaption:{type:"toggle",access:"public",value:!1,options:{label:"Show image caption in gallery view",onChange:{rules:{clickableOptions:{rule:"value",options:{value:"photoswipe"}}},actions:[{action:"toggleVisibility"}]}}},gap:{type:"number",access:"public",value:"10",options:{label:"Gap",min:0,description:"Enter gap in pixels (Example: 5).",cssMixin:{mixin:"imageGalleryGap",property:"gap",namePattern:"[\\da-f]+"}}},columns:{type:"number",access:"public",value:"3",options:{label:"Number of Columns",min:1,cssMixin:{mixin:"imageGalleryColumns",property:"columns",namePattern:"[\\da-f]+"}}},metaCustomId:{type:"customId",access:"public",value:"",options:{label:"Element ID",description:"Apply unique ID to element to link directly to it by using #your_id (for element ID use lowercase input only)."}},tag:{access:"protected",type:"string",value:"imageMasonryGalleryWithScaleUp"},sharedAssetsLibrary:{access:"protected",type:"string",value:{libraries:[{rules:{clickableOptions:{rule:"value",options:{value:"lightbox"}}},libsNames:["lightbox"]},{rules:{clickableOptions:{rule:"value",options:{value:"photoswipe"}}},libsNames:["photoswipe"]}]}}}},"./node_modules/raw-loader/index.js!./imageMasonryGalleryWithScaleUp/cssMixins/imageGalleryColumns.pcss":function(e,a){e.exports="@media (min-width: 544px) {\n  .vce-image-masonry-gallery-with-scaleup {\n    &--columns-$selector {\n      .vce-image-masonry-gallery-with-scaleup-column {\n        @if $columns != false {\n          flex: 0 0 calc(100% / $columns);\n          max-width: calc(100% / $columns);\n        }\n      }\n    }\n  }\n}\n\n\n"},"./node_modules/raw-loader/index.js!./imageMasonryGalleryWithScaleUp/cssMixins/imageGalleryGap.pcss":function(e,a){e.exports=".vce-image-masonry-gallery-with-scaleup {\n  &--gap-$selector {\n    @if $gap != false {\n      .vce-image-masonry-gallery-with-scaleup-list {\n        margin-left: calc(-$(gap)px / 2);\n        margin-right: calc(-$(gap)px / 2);\n        margin-bottom: -$(gap)px;\n      }\n    }\n\n    @if $gap != false {\n      .vce-image-masonry-gallery-with-scaleup-item {\n        padding-left: calc($(gap)px / 2);\n        padding-right: calc($(gap)px / 2);\n        margin-bottom: $(gap)px;\n      }\n    }\n  }\n}\n"},"./node_modules/raw-loader/index.js!./imageMasonryGalleryWithScaleUp/editor.css":function(e,a){e.exports=".vce-image-masonry-gallery-with-scaleup {\n  min-height: 1em;\n}\n"},"./node_modules/raw-loader/index.js!./imageMasonryGalleryWithScaleUp/styles.css":function(e,a){e.exports=".vce-image-masonry-gallery-with-scaleup-list {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n\n.vce-image-masonry-gallery-with-scaleup-column {\n  flex: 0 0 100%;\n  max-width: 100%;\n  box-sizing: border-box;\n}\n\n.vce-image-masonry-gallery-with-scaleup-item {\n  display: block;\n  position: relative;\n}\n\n.vce-image-masonry-gallery-with-scaleup .vce-image-masonry-gallery-with-scaleup-item {\n  transition: transform 0.3s ease, z-index 0s ease 0.15s;\n}\n\na.vce-image-masonry-gallery-with-scaleup-item {\n  color: transparent;\n  border-bottom: 0;\n  text-decoration: none;\n  box-shadow: none;\n}\n\na.vce-image-masonry-gallery-with-scaleup-item:hover,\na.vce-image-masonry-gallery-with-scaleup-item:focus {\n  border-bottom: 0;\n  text-decoration: none;\n  box-shadow: none;\n}\n\n.vce-image-masonry-gallery-with-scaleup-item:hover {\n  transform: scale(1.15);\n  z-index: 1;\n}\n\n.vce-image-masonry-gallery-with-scaleup-img {\n  width: 100%;\n  height: auto;\n}\n\n.vce-image-masonry-gallery-with-scaleup--border-rounded .vce-image-masonry-gallery-with-scaleup-img {\n  border-radius: 5px;\n}\n\n.vce-image-masonry-gallery-with-scaleup .vce-image-masonry-gallery-with-scaleup-item .vce-image-masonry-gallery-with-scaleup-img {\n  box-shadow: none;\n}\n"}},[["./imageMasonryGalleryWithScaleUp/index.js"]]]);