(window.vcvWebpackJsonp4x=window.vcvWebpackJsonp4x||[]).push([[0],{"./imageMasonryGalleryWithZoom/index.js":function(e,a,o){"use strict";o.r(a);var n=o("./node_modules/vc-cake/index.js"),t=o.n(n),i=o("./node_modules/@babel/runtime/helpers/extends.js"),l=o.n(i),s=o("./node_modules/@babel/runtime/helpers/classCallCheck.js"),r=o.n(s),m=o("./node_modules/@babel/runtime/helpers/createClass.js"),c=o.n(m),g=o("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),p=o.n(g),u=o("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),d=o.n(u),h=o("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),y=o.n(h),v=o("./node_modules/@babel/runtime/helpers/inherits.js"),b=o.n(v),w=o("./node_modules/@babel/runtime/helpers/defineProperty.js"),f=o.n(w),x=o("./node_modules/react/index.js"),z=o.n(x),I=function(e){function a(e){var o;return r()(this,a),o=p()(this,d()(a).call(this,e)),f()(y()(o),"currentImg",0),f()(y()(o),"loadingIndex",0),f()(y()(o),"data",[]),o.loadImage=o.loadImage.bind(y()(o)),o}return b()(a,e),c()(a,[{key:"componentDidMount",value:function(){this.prepareImages(this.props.atts)}},{key:"componentDidUpdate",value:function(){t.a.env("iframe")&&t.a.env("iframe").vcv.trigger("ready")}},{key:"componentWillReceiveProps",value:function(e){this.currentImg=0,this.data=[],this.loadingIndex++,this.prepareImages(e.atts,!0)}},{key:"prepareImages",value:function(e){for(var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e.image,n=this.getImageUrl(o),t=e.columns<=0?1:e.columns,i=[],l=0;l<t;l++)i.push(0),this.data.push([]);if(a){i=[];for(var s=0;s<t;s++)i.push(0)}this.loadImage(n,i)}},{key:"loadImage",value:function(e,a){if(e.length){var o=new window.Image;o.loadingIndex=this.loadingIndex,o.onload=this.imgLoadHandler.bind(this,e,a,o),o.src=e[this.currentImg]}else this.setState({columnData:this.data})}},{key:"imgLoadHandler",value:function(e,a,o){if(o.loadingIndex===this.loadingIndex){var n=this.getImageHeight(o.width,o.height),t=this.getSmallestFromArray(a);a[t]+=n,this.data[t].push(this.props.atts.image[this.currentImg]),this.currentImg++,this.currentImg<e.length?this.loadImage(e,a):this.setState({columnData:this.data})}}},{key:"getImageHeight",value:function(e,a){return a/(e/50)}},{key:"getSmallestFromArray",value:function(e){var a=0,o=e[0];return e.forEach(function(n,t){n<o&&(o=e[t],a=t)}),a}},{key:"render",value:function(){var e=this,a=this.props,o=a.id,n=a.atts,t=a.editor,i=n.image,s=n.shape,r=n.customClass,m=n.metaCustomId,c=n.clickableOptions,g=n.showCaption,p=n.zoomEffect,u=["vce-image-masonry-gallery-with-zoom"],d=["vce-image-masonry-gallery-with-zoom-wrapper vce"],h={},y="div",v=this.state&&this.state.columnData,b=[];if(v){var w=0;v.forEach(function(a,n){var t=[];a&&a.forEach(function(a,n){var s=e.getImageUrl(a),r={},m="vce-image-masonry-gallery-with-zoom-img",p={alt:a&&a.alt?a.alt:""};if("url"===c&&a.link&&a.link.url){y="a";var u=a.link;r={href:u.url,title:u.title,target:u.targetBlank?"_blank":void 0,rel:u.relNofollow?"nofollow":void 0}}else"imageNewTab"===c?(y="a",r={href:s,target:"_blank"}):"lightbox"===c?(y="a",r={href:s,"data-lightbox":"lightbox-".concat(o)}):"photoswipe"===c&&(y="a",r={href:s,"data-photoswipe-image":o,"data-photoswipe-index":w,"data-photoswipe-item":"photoswipe-".concat(o)},g&&a&&a.caption&&(r["data-photoswipe-caption"]=a.caption),h["data-photoswipe-gallery"]=o,w++);i[n].filter&&"normal"!==i[n].filter&&(m+=" vce-image-filter--".concat(i[n].filter)),t.push(z.a.createElement("div",{className:"vce-image-masonry-gallery-with-zoom-item-wrapper",key:"vce-image-masonry-gallery-with-zoom-item-".concat(n,"-").concat(o)},z.a.createElement(y,l()({},r,{className:"vce-image-masonry-gallery-with-zoom-item"}),z.a.createElement("img",l()({className:m,src:e.getImageUrl(a)},p)))))}),b.push(z.a.createElement("div",{className:"vce-image-masonry-gallery-with-zoom-column",key:"vce-image-masonry-gallery-with-zoom-col-".concat(n,"-").concat(o)},t))})}"string"==typeof r&&r&&u.push(r);var f=this.getMixinData("imageGalleryGap");f&&d.push("vce-image-masonry-gallery-with-zoom--gap-".concat(f.selector)),(f=this.getMixinData("imageGalleryColumns"))&&d.push("vce-image-masonry-gallery-with-zoom--columns-".concat(f.selector)),"rounded"===s&&u.push("vce-image-masonry-gallery-with-zoom--border-rounded"),p&&u.push("vce-image-masonry-gallery-with-zoom--effect-".concat(p)),m&&(h.id=m);var x=this.applyDO("all");return z.a.createElement("div",l()({className:u.join(" ")},t,h),z.a.createElement("div",l()({className:d.join(" "),id:"el-"+o},x),z.a.createElement("div",{className:"vce-image-masonry-gallery-with-zoom-list"},b)))}}]),a}(t.a.getService("api").elementComponent);(0,t.a.getService("cook").add)(o("./imageMasonryGalleryWithZoom/settings.json"),function(e){e.add(I)},{css:o("./node_modules/raw-loader/index.js!./imageMasonryGalleryWithZoom/styles.css"),editorCss:o("./node_modules/raw-loader/index.js!./imageMasonryGalleryWithZoom/editor.css"),mixins:{imageGalleryColumns:{mixin:o("./node_modules/raw-loader/index.js!./imageMasonryGalleryWithZoom/cssMixins/imageGalleryColumns.pcss")},imageGalleryGap:{mixin:o("./node_modules/raw-loader/index.js!./imageMasonryGalleryWithZoom/cssMixins/imageGalleryGap.pcss")}}},"")},"./imageMasonryGalleryWithZoom/settings.json":function(e){e.exports={image:{type:"attachimage",access:"public",value:["masonry-zoom-1.jpg","masonry-zoom-2.jpg","masonry-zoom-3.jpg"],options:{label:"Images",multiple:!0,onChange:{rules:{clickableOptions:{rule:"value",options:{value:"url"}}},actions:[{action:"attachImageUrls"}]},url:!1,imageFilter:!0}},shape:{type:"buttonGroup",access:"public",value:"square",options:{label:"Shape",values:[{label:"Square",value:"square",icon:"vcv-ui-icon-attribute-shape-square"},{label:"Rounded",value:"rounded",icon:"vcv-ui-icon-attribute-shape-rounded"}]}},designOptions:{type:"designOptions",access:"public",value:{},options:{label:"Design Options"}},editFormTab1:{type:"group",access:"protected",value:["clickableOptions","showCaption","image","columns","gap","shape","zoomEffect","metaCustomId","customClass"],options:{label:"General"}},metaEditFormTabs:{type:"group",access:"protected",value:["editFormTab1","designOptions"]},relatedTo:{type:"group",access:"protected",value:["General"]},customClass:{type:"string",access:"public",value:"",options:{label:"Extra class name",description:"Add an extra class name to the element and refer to it from Custom CSS option."}},clickableOptions:{type:"dropdown",access:"public",value:"lightbox",options:{label:"OnClick action",values:[{label:"None",value:""},{label:"Lightbox",value:"lightbox"},{label:"PhotoSwipe",value:"photoswipe"},{label:"Open Image in New Tab",value:"imageNewTab"},{label:"Link selector",value:"url"}]}},showCaption:{type:"toggle",access:"public",value:!1,options:{label:"Show image caption in gallery view",onChange:{rules:{clickableOptions:{rule:"value",options:{value:"photoswipe"}}},actions:[{action:"toggleVisibility"}]}}},gap:{type:"number",access:"public",value:"10",options:{label:"Gap",min:0,description:"Enter gap in pixels (Example: 5).",cssMixin:{mixin:"imageGalleryGap",property:"gap",namePattern:"[\\da-f]+"}}},columns:{type:"number",access:"public",value:"3",options:{label:"Number of Columns",min:1,cssMixin:{mixin:"imageGalleryColumns",property:"columns",namePattern:"[\\da-f]+"}}},zoomEffect:{type:"dropdown",access:"public",value:"zoom",options:{label:"Zoom effect",values:[{label:"Zoom",value:"zoom"},{label:"Zoom with rotation",value:"rotate"}]}},metaCustomId:{type:"customId",access:"public",value:"",options:{label:"Element ID",description:"Apply unique ID to element to link directly to it by using #your_id (for element ID use lowercase input only)."}},tag:{access:"protected",type:"string",value:"imageMasonryGalleryWithZoom"},sharedAssetsLibrary:{access:"protected",type:"string",value:{libraries:[{rules:{clickableOptions:{rule:"value",options:{value:"lightbox"}}},libsNames:["lightbox"]},{rules:{clickableOptions:{rule:"value",options:{value:"photoswipe"}}},libsNames:["photoswipe"]}]}}}},"./node_modules/raw-loader/index.js!./imageMasonryGalleryWithZoom/cssMixins/imageGalleryColumns.pcss":function(e,a){e.exports="@media (min-width: 544px) {\n  .vce-image-masonry-gallery-with-zoom {\n    &--columns-$selector {\n      .vce-image-masonry-gallery-with-zoom-column {\n        @if $columns != false {\n          flex: 0 0 calc(100% / $columns);\n          max-width: calc(100% / $columns);\n        }\n      }\n    }\n  }\n}\n\n\n"},"./node_modules/raw-loader/index.js!./imageMasonryGalleryWithZoom/cssMixins/imageGalleryGap.pcss":function(e,a){e.exports=".vce-image-masonry-gallery-with-zoom {\n  &--gap-$selector {\n    @if $gap != false {\n      .vce-image-masonry-gallery-with-zoom-list {\n        margin-left: calc(-$(gap)px / 2);\n        margin-right: calc(-$(gap)px / 2);\n        margin-bottom: -$(gap)px;\n      }\n    }\n\n    @if $gap != false {\n      .vce-image-masonry-gallery-with-zoom-item-wrapper {\n        padding-left: calc($(gap)px / 2);\n        padding-right: calc($(gap)px / 2);\n        margin-bottom: $(gap)px;\n      }\n    }\n  }\n}\n\n"},"./node_modules/raw-loader/index.js!./imageMasonryGalleryWithZoom/editor.css":function(e,a){e.exports=".vce-image-masonry-gallery-with-zoom {\n  min-height: 1em;\n}\n"},"./node_modules/raw-loader/index.js!./imageMasonryGalleryWithZoom/styles.css":function(e,a){e.exports=".vce-image-masonry-gallery-with-zoom-wrapper {\n  overflow: hidden;\n}\n\n.vce-image-masonry-gallery-with-zoom-list {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: flex-start;\n  align-content: flex-start;\n}\n\n.vce-image-masonry-gallery-with-zoom-column {\n  flex: 0 0 100%;\n  max-width: 100%;\n  box-sizing: border-box;\n}\n\n.vce-image-masonry-gallery-with-zoom-item-wrapper {\n\n}\n\n.vce-image-masonry-gallery-with-zoom-item {\n  display: block;\n  overflow: hidden;\n}\n\na.vce-image-masonry-gallery-with-zoom-item {\n  color: transparent;\n  border-bottom: 0;\n  text-decoration: none;\n  box-shadow: none;\n}\n\na.vce-image-masonry-gallery-with-zoom-item:hover,\na.vce-image-masonry-gallery-with-zoom-item:focus {\n  border-bottom: 0;\n  text-decoration: none;\n  box-shadow: none;\n}\n\n.vce-image-masonry-gallery-with-zoom-img {\n  width: 100%;\n  height: auto;\n  transition: transform 0.3s ease;\n}\n\n.vce-image-masonry-gallery-with-zoom--border-rounded .vce-image-masonry-gallery-with-zoom-item {\n  border-radius: 5px;\n}\n\n.vce-image-masonry-gallery-with-zoom .vce-image-masonry-gallery-with-zoom-item .vce-image-masonry-gallery-with-zoom-img {\n  box-shadow: none;\n}\n\n.vce-image-masonry-gallery-with-zoom--effect-zoom .vce-image-masonry-gallery-with-zoom-item:hover .vce-image-masonry-gallery-with-zoom-img {\n  transform: scale(1.5);\n}\n\n.vce-image-masonry-gallery-with-zoom--effect-rotate .vce-image-masonry-gallery-with-zoom-item:hover .vce-image-masonry-gallery-with-zoom-img {\n  transform: scale(1.5) rotate(10deg);\n}\n"}},[["./imageMasonryGalleryWithZoom/index.js"]]]);